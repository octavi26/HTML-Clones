# HTML Clones

## Task

The project was to write a script that aims to group together different HTML files based on their appearance and how they are perceived by the user. Even though 2 HTML files can be different, they have similarities and these can determine how much they resemble each other.

## Idea

The script works by associating a score for two files being similar and then calculates based on said score the probability that they are clones. It clusters files based on how well they compare to the other files in the cluster and if the probability isn't high enough, the file is given a new cluster of its own. To determine the score of two files being similar, we reduce the amount of data from one big file to small essential things, easy to check. More precisely, an HTML file will be represented by its file size, what links/anchors it has, what colours it has and what images it uses. Checking for 2 files things based on these characteristics can help determine the score we are looking for.

## Script

Firstly, the code opens a directory and looks for the HTML files to parse them one by one. For each file, we first eliminate the comments and get the links, colours and images from the file using the function getPart(s, beginning, end) that returns a substring of s that starts with 'beginning' and ends with 'end'. Now, representing the file with this smaller set of information we can check for each cluster what is the probability that it should be part of it. To answer this, we calculate the similarity between the current file and every file in a cluster to then average them at the end. To calculate the probability we take the part of the number of points the pair of files makes in relation to the number of points which it could have, which is the amount of points from a file to itself. Now, we calculate these points/scores with the function Points(D, DC) which look at the representatives of the files. Firstly, if the size difference from the file is smaller than 10% it will receive a maximum of 4000 points depending on how big the difference is. Then, we check if the files have the same links by counting the number of links in common and giving 500 points for every link they have in common. We do this because links are a big part of how the page appears, representing the buttons and structure of the page. Then, we do the same thing with how many colours are in common. This is important as two pages look more similar if they have the same colours and therefore, for each colour in common we get 250 points. Same thing with images and we get 1000 for every common image between the two. Finally, we calculate and select the cluster with the highest probability of containing the file and if the similarities are more than 60% for the highest probability then the file is accepted in the cluster. If not, it means the file doesn't belong in any cluster so far so it makes a cluster for itself.

## Versatility

The solution is designed to be versatile and change the values for the scores to better accentuate the importance of one aspect in front of another. For example, we could choose to give more importance to colours and add 750 points for each common colour instead of 150. More than that, using the Points and getPart functions it is easy to add more criteria for two files to be similar other than size, links, colours and images. We could probably add a check for the scripts of the files.
